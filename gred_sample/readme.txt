Особенности/ограничения:
1. Проверка на пересечение - по координатам ограничивающего фигуру прямоугольника.
2. Курсоры стандартные: добавить фигуру - крест (CrossCursor), при пересечении границ - ForbiddenCursor (появляется при нажатии ЛКМ), остальные режимы - стрелка.
3. Кнопки тулбара "Select", "Add Rect" и "Add Ellipse" - checkable, остальные - обычные.
4. Кнопки тулбара, действие по которым в данный момент невозможно, не дизэйблятся, просто не отрабатывают (кроме Undo/Redo).

По архитектуре:
Для добавления нового действия на тулбар, нужно добавить обработчик (наследник ActionController), а также undo-команду (наследник Command), если действие нужно добавлять в стек Undo/Redo.
Затем дописать соответствующую строку в функцию CreateActions.

Собрано на Qt 5.8.0 MSVC2013 32bit.